<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Revisão</title>
  </head>
  <body>
    <form action="cadastraCliente.php" method="POST" id="cadastroForm">
      <div class="formulario-cliente">
        <label for="cpf">CPF</label>
        <input
          type="text"
          name="cpf"
          id="cpf"
          pattern="\d{3}.\d{3}.\d{3}-\d{2}"
          title="exemplo: 123.123.123-45"
          required
        />
        <br />
        <br />
        <label for="nome">Nome</label>
        <input type="text" name="nome" id="nome" required /> <br />
        <br />
        <label for="dataNasc">Data de nascimento</label>
        <input type="date" name="dataNasc" id="dataNasc" /> <br />
        <br />
        <label for="estado">Estado de origem (MG, SP, RG, etc...)</label>
        <select name="estado" id="estado">
            <option value="MG">Minas Gerais</option>
            <option value="SP">São Paulo</option>
            <option value="RJ">Rio de Janeiro</option>
            <option value="ES">Espírito Santo</option>
        </select>
        <br />
        <br />
      </div>
      <button type="button" id="addDep">Adicionar outro dependente</button>
      <div class="formulario-dependentes" id="section-dependente">
        <h2>Dependente (obrigatório)</h2>
        <label for="nomeDep">Nome</label>
        <input type="text" name="nomeDep" id="nomeDep" required /> <br />
        <br />
        <label for="emailDep">E-mail</label>
        <input type="text" name="emailDep" id="emailDep" required /> <br />
        <br />
      </div>

      <button type="submit">Cadastrar</button>
    </form>

    <script>
      let dependenteContador = 1;

      document.getElementById("addDep").addEventListener("click", function () {
        dependenteContador++;

        const divDependente = document.getElementById("section-dependente");
        const novoDependente = document.createElement("div");

        novoDependente.innerHTML = `
            <h2>Dependente ${dependenteContador}</h2>
            <label for="nomeDep${dependenteContador}">Nome</label>
            <input type="text" name="nomeDep${dependenteContador}" id="nomeDep${dependenteContador}" required /> <br />
            <br />
            <label for="emailDep${dependenteContador}">E-mail</label>
            <input type="text" name="emailDep${dependenteContador}" id="emailDep${dependenteContador}" required /> <br />
            <br />
            `;

        divDependente.appendChild(novoDependente);
      });
    </script>
  </body>
</html>
